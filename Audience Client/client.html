<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    	<title>Test Client</title>
	</head>
	<body>
		<div>
			<header>
				<h1>Opus Frixorium</h1>
			</header>
			<div>
				<label for="name">Enter Name</label>
				<input type="text" id="name"/>
				<label for="game_code">Enter Game Code</label>
				<input type="text" id="game_code"/>
				<button onclick="connectToGame()">Enter</button>
			</div>
		</div>
		<script>
			let ws;

			function connectToGame() {
				const gameCode = document.getElementById("game_code").value;
				const name = document.getElementById("name").value;
				const connectionData = {
					type: "game_code",
					token: "8DFMUBI21Y",
					gameCode: gameCode,
					identifier: name
				};

				ws = new WebSocket("ws://localhost:3000");
				ws.onopen = function () {
					console.log("Connected to audience server");
					ws.send(JSON.stringify(connectionData));
				};
			}
		</script>
	</body>
</html>